# 4. Distinct Elements

## What are Distinct Elements?

The count of unique values in a collection, ignoring duplicates.

---

## Visual Understanding

```
Array: [1, 2, 1, 3, 2, 1, 4]

Unique elements: {1, 2, 3, 4}
                  ↓  ↓  ↓  ↓
Count of distinct elements = 4

Visualization:
1 → appears 3 times  }
2 → appears 2 times  } → 4 distinct values
3 → appears 1 time   }
4 → appears 1 time   }
```

---

## Method 1: Using `set`

```cpp
#include <iostream>
#include <vector>
#include <set>
using namespace std;

int main() {
    vector<int> arr = {1, 2, 1, 3, 2, 1, 4};
    
    set<int> unique_elements(arr.begin(), arr.end());
    
    cout << "Distinct elements: " << unique_elements.size() << "\n";
    
    cout << "Elements: ";
    for (int x : unique_elements) {
        cout << x << " ";
    }
    // Output: 1 2 3 4 (sorted)
    
    return 0;
}
```

---

## Method 2: Using `unordered_set`

```cpp
#include <iostream>
#include <vector>
#include <unordered_set>
using namespace std;

int main() {
    vector<int> arr = {5, 2, 5, 3, 2, 5};
    
    unordered_set<int> unique_elements(arr.begin(), arr.end());
    
    cout << "Distinct count: " << unique_elements.size() << "\n";
    
    return 0;
}
```

---

## Method 3: Using Frequency Map

```cpp
#include <iostream>
#include <vector>
#include <unordered_map>
using namespace std;

int main() {
    vector<int> arr = {1, 2, 1, 3, 2};
    
    unordered_map<int, int> freq;
    for (int x : arr) {
        freq[x]++;
    }
    
    int distinct = freq.size();
    cout << "Distinct elements: " << distinct << "\n";
    
    return 0;
}
```

---

## Method 4: Manual Counting

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int main() {
    vector<int> arr = {3, 1, 2, 1, 3, 2};
    
    // Sort first
    sort(arr.begin(), arr.end());
    // arr = [1, 1, 2, 2, 3, 3]
    
    int distinct = 0;
    for (int i = 0; i < arr.size(); i++) {
        // Count only first occurrence
        if (i == 0 || arr[i] != arr[i-1]) {
            distinct++;
        }
    }
    
    cout << "Distinct elements: " << distinct << "\n";
    
    return 0;
}
```

---

## Getting Distinct Elements List

```cpp
#include <iostream>
#include <vector>
#include <set>
using namespace std;

int main() {
    vector<int> arr = {3, 1, 2, 1, 3, 2, 4};
    
    set<int> s(arr.begin(), arr.end());
    vector<int> distinct_list(s.begin(), s.end());
    
    cout << "Distinct elements: ";
    for (int x : distinct_list) {
        cout << x << " ";
    }
    // Output: 1 2 3 4
    
    return 0;
}
```

---

## Checking If All Elements Are Distinct

```cpp
#include <iostream>
#include <vector>
#include <unordered_set>
using namespace std;

bool allDistinct(vector<int>& arr) {
    unordered_set<int> seen;
    for (int x : arr) {
        if (seen.count(x)) {
            return false;  // Duplicate found
        }
        seen.insert(x);
    }
    return true;
}

int main() {
    vector<int> arr1 = {1, 2, 3, 4, 5};
    vector<int> arr2 = {1, 2, 3, 2, 5};
    
    cout << "arr1 all distinct: " << (allDistinct(arr1) ? "Yes" : "No") << "\n";
    cout << "arr2 all distinct: " << (allDistinct(arr2) ? "Yes" : "No") << "\n";
    
    return 0;
}
```

---

## Visual: Finding Distinct Elements

```
Array: [5, 2, 5, 3, 2, 5]

Step-by-step insertion into set:

Step 1: Insert 5
Set: {5}

Step 2: Insert 2
Set: {2, 5}

Step 3: Try insert 5 (duplicate, ignored)
Set: {2, 5}

Step 4: Insert 3
Set: {2, 3, 5}

Step 5: Try insert 2 (duplicate, ignored)
Set: {2, 3, 5}

Step 6: Try insert 5 (duplicate, ignored)
Set: {2, 3, 5}

Final distinct count = 3
```

---

## Counting Elements That Appear Exactly Once

```cpp
#include <iostream>
#include <vector>
#include <unordered_map>
using namespace std;

int main() {
    vector<int> arr = {1, 2, 1, 3, 2, 4};
    
    unordered_map<int, int> freq;
    for (int x : arr) {
        freq[x]++;
    }
    
    int count_unique = 0;
    for (auto [key, cnt] : freq) {
        if (cnt == 1) {
            count_unique++;
        }
    }
    
    cout << "Elements appearing exactly once: " << count_unique << "\n";
    // Output: 2 (elements 3 and 4)
    
    return 0;
}
```

---

## Finding Duplicate Elements

```cpp
#include <iostream>
#include <vector>
#include <unordered_set>
using namespace std;

int main() {
    vector<int> arr = {1, 2, 3, 2, 4, 3, 5};
    
    unordered_set<int> seen;
    unordered_set<int> duplicates;
    
    for (int x : arr) {
        if (seen.count(x)) {
            duplicates.insert(x);
        } else {
            seen.insert(x);
        }
    }
    
    cout << "Duplicate elements: ";
    for (int x : duplicates) {
        cout << x << " ";
    }
    // Output: 2 3
    
    return 0;
}
```

---

## Distinct Elements in Subarray

```cpp
#include <iostream>
#include <vector>
#include <unordered_set>
using namespace std;

int distinctInRange(vector<int>& arr, int l, int r) {
    unordered_set<int> s;
    for (int i = l; i <= r; i++) {
        s.insert(arr[i]);
    }
    return s.size();
}

int main() {
    vector<int> arr = {1, 2, 1, 3, 2, 4};
    
    cout << "Distinct in [0, 2]: " << distinctInRange(arr, 0, 2) << "\n";
    // Array [1, 2, 1] has 2 distinct elements
    
    return 0;
}
```

